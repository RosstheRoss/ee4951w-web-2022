<!DOCTYPE html>
<html lang="en">

<head>
  <!-- HTML headers -->
  <%- include('../partials/head.ejs') %>
  <title>Upload your code here!</title>
  <script type="module" src="public/js/form.js"></script>
</head>

<body>
  <!-- Get the navbar -->
  <%- include('../partials/nav.ejs') %>
  <div id="nojs">
    <h1>Please enable JavaScript to use the inverted pendulum.</h1>
  </div>
  <div id="block" hidden="true">
    <br />
    <h1>Please upload a Python file (.py file extension) to run on the Inverted Pendulum.</h1>
    <h3>A heavily documented example can be <a href="public/example.py">found here</a>.</h3>
    <h2>
      <br />
      <span class="error" id="upload-err"></span>
      <span class="error" id="actuate-err"></span>
      <br>
      <div id="upload-response"></div>
      <div id="actuate-response"></div>
    </h2>

    <form id="upload" enctype="multipart/form-data">
      <input type="hidden" name="_csrf" value="<%= csrfToken %>">
      <input type="file" name="file" accept=".py" />
      <br /> <br />
      <label id="Start">Start pendulum: </label>
      <input type="submit" id="actuate-but" value="Actuate!" />
    </form>
    <h3>
      <span id="download-link"></span>
    </h3>

    <h2>
      Stream
    </h2>
    <img src="/video" alt="Live video feed of the Pendulum" id="stream">


  </div>

</body>

</html>